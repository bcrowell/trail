# To execute this, do make significance.

# To generare the list of errors, do the following in analyze.rb:
#    print_error_list("error list for ultra-flat / nearly flat",ultra_flat,["pasadena"],data,m.merge(hockey))

minetti <- c(-20.057213611423027, 2.553438694147118, -0.9945726183487819, -6.897937257357166, 1.315713726801654, 2.0906593325304135, 2.310975446818687, 3.7657341780956326, -1.8208319921145693, 20.41919734241423, -1.4114814781923244, -5.685932491688293, 7.2861341081794375, 1.630965636060243, 1.6702134957830614, 0.3179965442109469, 3.8517308612541226, 8.674543985398952, -6.201197092480708, 4.079352674115451, 1.1969209060326402, 7.691737547481933, 8.168201592736564, 4.019466393693747, 1.5989725216149628, 6.4315227112536775, 51.14853717047183, -3.729749866444511, 15.141151657161373, 2.6769212283091846, -8.42018695218643, 5.730950635640096, -2.964660802008406, 5.831148941276475, 12.648213352908828, 7.916349640745218, -6.89379798687138, 0.6924830067093252, 7.189025531132316, 6.8301869259899455, -8.69140774100253, 2.077254457929264, -0.4194021701468781, -18.308791050667107, -9.064255800952042, -1.1911114706867776, 10.832597953008431, -1.2804625741197089, 27.530680307118892, -1.7054002295591522, 6.104413315716464, -20.118740523480856, 3.900614240887866, -5.519374487388842)

hockey <- c(-15.278915884007805, 7.331736421562361, 3.783725109066448, -2.119639529941936, 6.094011454216893, 6.868957059945657, 7.089273174233912, 8.54403190551087, 2.957465735300661, 25.197495069829458, 3.3668162492228997, -0.9076347642730678, 12.064431835594673, 6.409263363475483, 6.448511223198299, 5.096294271626186, 8.63002858866936, 13.452841712814184, -1.4228993650654704, 8.857650401530679, 5.975218633447894, 12.470035274897171, 12.94649932015178, 8.797764121108957, 6.37727024903022, 11.209820438668903, 55.92683489788707, 1.0485478609707264, 19.919449384576595, 7.455218955724424, -3.6418892247711963, 10.509248363055328, 1.8136369254068159, 10.609446668691689, 17.426511080324065, 12.694647368160455, -2.1155002594561494, 5.470780734124544, 11.967323258547538, 11.608484653405172, -3.913110013587293, 6.855552185344516, 4.358895557268359, -13.530493323251875, -4.28595807353682, 3.587186256728437, 15.610895680423667, 3.497835153295515, 32.308978034534114, 3.07289749785608, 10.882711043131696, -15.340442796065624, 8.678911968303098, -0.7410767599735977)

x <- hockey

# one-sample Wilcoxon test:
t <- exp(x/100.0) # error expressed as a ratio has a symmetric distribution
wilcox.test(t, mu = 1.0)

# normal approx:
n <- length(x)
sd <- sqrt(var(x))
m <- mean(x)
print(paste('n=',n))
print(paste('mean=',m))
print(paste('median=',median(x)))
print(paste('sd=',sd))
nsigma <- (m-1.0)*sqrt(n)/sd
print(paste('normal approx=',nsigma,' sigma'))
p <- pnorm(-nsigma, mean = 0, sd = 1)
print(paste('p=',p))
